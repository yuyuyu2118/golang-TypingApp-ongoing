ビルド方法 go build -ldflags="-H windowsgui" -o typingRPG_v1.0.0.exe .
# メイン機能
<!-- - 所持金を追加、画面左上に表示
  - 実装・topLeftPosで位置を指定しテキストを表示、敵を倒すとランダムで増える -->
<!-- - スキルの横に体力バーを表示
  - 敵の攻撃を受けると減る -->
<!-- - 敵の攻撃による死亡判定の追加、お金をおとす機能はサブ機能とする -->
<!-- - StartScreenのあとにGoToScreenを設置
  - 1.dungeon(stage) 2.town 3.equipment 4.Job 5.save 6.exit -->
    -equipmentは所持金、装備内容、所持武器防具アクセサリーを表示
<!-- - TownScreenの実装
  - 1.WeaponShop 2.ArmorShop 3.AccessoryShop 4.BlackSmith 5.Equipment 6.Exit -->
<!-- - Shopの実装
  - 各お店で、1.Buy 2.Sell 3.Exit
  - 1.Buy
    - Weapon.csv ID,武器名,攻撃力,説明,強化可能回数(3or1),強化上昇値1,強化上昇値2,特殊能力
    - Armor.csv ID,防具名,防御力,説明,強化可能回数(3or1),強化上昇値1,強化上昇値2,特殊能力
    - Accessory.csv ID,装飾名,説明,上昇項目1,上昇値1,上昇項目2,上昇値2,特殊能力 -->
    - BlackSmith.csv 強化済み武器,強化レベル
  <!-- - 2.Sell
    - サブ機能として実装 -->
<!-- - タイプ箇所を灰色にする
  - 実装・正解描画した幅から計算？ -->
<!-- - 自分の職業を左上のコインの下に表示？スキルの上でもいい
- initPlayerを作成して、initPlayerGoldやinitPlayerJobをまとめる。それぞれのoffSetから相対位置を算出する、引数にoffSetを追加する
  - Player.goに記述 -->
<!-- - endScreenに素材ドロップ等の情報を表示、ドロップコインも表示終了画面の充実化 -->
- CsvToSliceをcsvioに移動
- playerStatusのインスタンス化をsaveファイルに記録する、csvファイルに記録
<!-- - 日本語対応 -->
<!-- - 武器は、素材だけを表示し、素材が手に入ったものだけ表示する -->
<!-- - 装備画面を持ち物に変える -->
  <!-- - 持ち物画面で1-4を押すと、武器防具アクセサリー、素材に切り替わる -->
  <!-- - 素材画面はCSVで読み込んだ通りに表示、yOffsetが一定の値、もしくは一定の繰り返しが終了すると折り返すように変更 -->

- 購入画面で素材が足りていると、足りている素材が緑色に、足りていない素材を赤色に変化、買えるかを判定するboolがtrueなら買うボタンが緑色になり素材とお金が減り、購入できる。
  - その武器に必要な素材だけを取り出して所持数を素材の横に表示

- 購入画面を作成したweaponインスタンスから直接文字列を参照する形から、数値を参照するように変更

- ブラックスミスでは基本素材強化、宝石アンロック、モディファイア抽選、
  - 基本強化では主に攻撃力があがる
  - 宝石アンロックでは、攻撃力大幅+アタックタイマー(上限あり)
  - モディファイア抽選はそのまま

- レアドロは色分ける(宝石類)

- 武器は1つずつしか持てないように変更
- 全武器名を、〜のようなキーボードに変更

<!-- Weapon.csv
所持bool,武器名,攻撃力,アタックタイマー,作成費用,作成素材1,素材個数1,作成素材2,素材個数2,作成素材3,素材個数3,説明1,説明2,説明3,特殊能力名1,特殊能力2,基本カラー,強化費用,基本強化素材1,個数1,基本強化素材2,個数2,基本強化素材3,個数3,強化攻撃上昇値,1回目宝石必要量1,1目宝石必要量2,1回目宝石必要量3,1回目宝石必要量4,2回目宝石必要量1,2回目宝石必要量2,2回目宝石必要量3,2回目宝石必要量4,1回目宝石アンロック攻撃上昇値,1回目宝石アンロックアタックタイマー上昇値,2回目宝石アンロック攻撃上昇値,2回目宝石アンロックアタックタイマー上昇値,1回目宝石アンロック特殊能力bool,2回目宝石アンロック特殊能力bool,モディファイア抽選ベース資金,

false,木の棒,0.5,0.5,100,木の枝,3,針金,2,糸,1,説明1,説明2,説明3,なし,なし,茶色,100,木の枝,1,針金,1,糸,1,0.25,3,0,0,0,5,0,0,0,1,0.5,2,0.5,false,false,150, -->


<!-- Weaponもcsv分けたい-->


<!-- - 作成素材の下に、自分の持っている素材を表示 -->
- 装備画面でもう一度同じキーを押すと装備を外す
- 武器を作成できない時は、その通知をする
<!-- - すでに持っている武器は選択画面の文字を灰色にする -->
- 武器によってどのくらいステータスがあがるかを装備画面に表示する
- ショップ画面でタブキーを押すと、descriptionテキストが、強化関連の説明に変化
<!-- - ゲームオーバー画面 未完成 -->
- 右上に攻撃力、防御力も表示したい
- 防具、アクセサリーに対してTabを押している間は強化素材等の情報を表示する
- 当たり判定


# サブ機能
- 敵が攻撃を受けたときに、ダメージを表現
  - 実装・Movedを使って、敵のpictureのcenterからすこしずらした位置にMovedを数回繰り返し、pictureの色を薄い赤色にする
- 敵の攻撃モーション
  - 実装・一旦scaledで小さくなり、その後scaledで大きくなって攻撃する
- 敵にやられると所持金が減少する、減少分は敵がドロップするお金と同じ乱数
- 名前を実装
  - スタート画面の右上に入力でき、変更も可能

- セーブ機能の実装
  - 所持金、装備、プレイヤーのレベル、スコア、名前を保存、100セーブ以降は古いものから削除
- スコアボードの追加
  - まずは自分のスコアだけを記録、順位をつけて、上位100件のみ保存しておく

- 体力が少なくなるにつれて、画面全体のテキストの色が赤っぽくなっていく
- dungeonの文言とstageの文言をdungeon側に統一
- 多言語対応
  - 英語と日本語
- アクセサリーの強化要素、敵からドロップする強化石をセット？
- 売却機能の追加
- dungeon潜入時にカウントダウン追加
- 敵の行動内容追加
  - 敵情報を格納するcsvファイルの作成検討
    - 敵情報csv ID,敵名,最大体力,体力,攻撃力,防御力,所持金の中央値,所持金のドロップ乱数,ドロップ品1,ドロップ確率1,ドロップ品2,ドロップ確率2,ドロップ品3,ドロップ確率3
    - 敵のID毎の行動内容csv 行動1,行動2,,,
- 戦闘画面の長い単語が重なる事象を解決
  -すべて一つの配列で管理,スペース区切りで判定,20文字以内で流れてくるイメージ
-体力残りわずかなところでスキルを使うとバグる
- 敵の攻撃ゲージの追加
  - 一定時間経過後(敵のenemy.Speedを参照)に攻撃を行い、初期値に戻す　enemy.goに追加
- テキストの描画をfor文で回して、その関数をさらに薄くするために、別の関数に分ける
  - 文字のスライスとボタンのスライス、位置、テキスト同士の幅、y座標の初期位置を入力として与えてリストにする関数を作成する(Align関数的な)

- スキルを1ずつ増加に変更、ミスタイプで0.2ずつ減少に変更

# バグ修正
- 戦闘画面で最初にEnemyAttackが表示される
- 戦闘終了画面で、ダメージの表示が残る
- ボタンを押したとき、マウスがおかれていたらそこのイベントが発生する
  - キーボード入力を優先させる
  - 装備画面のボタンの当たり判定を追加していない
- アイテムの個数が同じ時、ソートのバグが起きる
- 持ち物画面の素材一番最初を押したとき、謎の当たり判定がある
- 単語が長いと重なる
<!-- - 装備画面の当たり判定がおかしい -->
- はじめたばかりでsaveItemsがない状態だと、素材確認がおかしい
- 鍛冶屋での素材表示が更新されていない
- 攻撃力を更新するときは、小数点第3位までで、画面表示は小数点第二位までにする
- 強化時に持っていない武器も表示される
# 重要バグ
- Saveファイルを書き換えた影響で、正常にexchangeできない
<!-- - enemyドロップの衝撃吸収材の漢字が違う -->
<!-- - 画像が大きくなる -->
<!-- - ジョブが一致していないと、新～～が毎回でる -->
<!-- - ゴブリン→コボルト -->

text.RangeTable(unicode.P)とは


オレンジ色の攻撃単語を追加
スキル発動すると、オレンジ色になり、その単語は攻撃力×1.2倍？

アーチャーは時々流れてくる空中の単語をtab入力後に入力すると+ダメージを与える

バトルスタイルの要素
職業ごとにガラッと変わる、アーチャーは単語を装填する、装填後に3つ以上ためて攻撃すると+ダメージ

OPとは別にアタックタイマーのパラメータを追加
これで攻撃タイムの判定を行う。
これによって職業ごとに攻撃力やアタックタイマーの調整が可能

アーチャーは攻撃タイムが長いが、装填をしないと弱攻撃になり装填+3だと強攻撃になる。装填は5つまでで、シフトエンターで発射、シフトが押されていると敵ターンが進行しないように書き換える

モンクは1文字ごとに攻撃をする1文字ごとにプラスマイナス1で攻撃が変動する

モンスターは単語の長さが+1さらる、攻撃時、毎回!を押す必要があら
モンスターのスキルは、モンスター言語、意味の無い文字の羅列を入力する、単語ごとに与えるダメージが

魔法使いは集中力があり、正確なタイピングをすることで攻撃力があがる、ミスタイプをすると攻撃力が

タイピング単語を追加するスキル
オンライン対戦のスキルとして、長文単語の入力に成功すると相手に長文単語が送られる、その単語は入力しても攻撃が与えられない

ラスボスは創造神S
最初は堅実に戦うふりをして、勝てば良かろうなのだぁ！をする
特殊アイテムが必要

# メイン機能
- equipmentは所持金、装備内容、所持武器防具アクセサリーを表示
- BlackSmith.csv モディファイアの設定
- endScreenに素材ドロップ等の情報を表示、ドロップコインも表示終了画面の充実化
- 武器は、素材だけを表示し、素材が手に入ったものだけ表示する
- event.構造体でイベント管理、素材を拾った個数で武器解放、敵を倒した回数で武器解放、などなど


# サブ機能
- 売却機能Sell
-攻撃を与えた時、敵の画像を薄く赤く
- 名前を実装
  - スタート画面の右上に入力でき、変更も可能
- スコアボードの追加
  - まずは自分のスコアだけを記録、順位をつけて、上位100件のみ保存しておく
- 体力が少なくなるにつれて、画面全体のテキストの色が赤っぽくなっていく
- dungeonの文言とstageの文言をdungeon側に統一
- 多言語対応
  - 英語と日本語
- 敵から強化石をドロップするように変更
 - どの種類の強化石を落とすか敵ごとに決めて、個数は0-1 確率は固定で10%
- 敵のCSV1行目を読まないようにしたい、情報を書いておく
- dungeon潜入時にカウントダウン追加
- 敵の行動内容追加
 - 行動名と行動時テキストを格納しておく、これはcsvじゃなくてもいいかも、敵ごとに違うからCSVを固定できない、代わりに攻撃確率などを書いたCSVなら用意してもいいかも
    - ドロップ品1,ドロップ確率1,ドロップ品2,ドロップ確率2,ドロップ品3,ドロップ確率3
    - 敵のID毎の行動内容csv 行動1,行動2,,,
- テキストの描画をfor文で回して、その関数をさらに薄くするために、別の関数に分ける
- 正確なタイピング+確率でクリティカルアタックの発動

# バグ修正
- 戦闘画面で最初にEnemyAttackが表示される

text.RangeTable(unicode.P)とは

武器ごとに色を変える
武器ごとに固有スキルがある

敵を10回ずつ倒すと絆がうまれる、ラスボスはこいらの協力がないと必ず負けるようにする

10回倒すまでは操られている設定、だから正気を取り戻して仲間になる

# 修正予定
- 魔法使いのスキル時間の表示
- saveItemsの初期値を設定しないと強制終了する
- アタックタイマーの位置調整
- スキル中もタイマー表示
- 敵の体力、スキルの攻撃
- 死亡判定